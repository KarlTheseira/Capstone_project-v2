# ğŸ—ï¸ FlashStudio AKS Deployment Architecture

## Visual Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              AZURE SUBSCRIPTION                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        RESOURCE GROUP: flashstudio-rg                      â”‚ â”‚
â”‚  â”‚                                                                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚ Azure Container     â”‚    â”‚           Azure Kubernetes Service          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ Registry (ACR)      â”‚    â”‚              flashstudio-aks               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚                                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ flashstudiomain     â”‚â”€â”€â”€â–ºâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ .azurecr.io         â”‚    â”‚  â”‚          Namespace: flash               â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚  â”‚                                         â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Docker Images     â”‚    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ Version Control   â”‚    â”‚  â”‚  â”‚        Deployment                    â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ CI/CD Integration â”‚    â”‚  â”‚  â”‚   flashstudio-monolith              â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â”‚                                      â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚   Pod 1     â”‚ â”‚      Pod 2      â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚             â”‚ â”‚                 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚ FlashStudio â”‚ â”‚   FlashStudio   â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚ Monolith    â”‚ â”‚   Monolith      â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚             â”‚ â”‚                 â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â”‚ Port: 8000  â”‚ â”‚   Port: 8000    â”‚ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚                     â”‚                     â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚            Service                  â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚        flashstudio-lb              â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚                                     â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚     Type: LoadBalancer              â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â”‚     Port: 80 â†’ 8000                â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚                                             â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚               Secrets                   â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚                                         â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚ â€¢ flashstudio-secrets (DB, App)        â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚ â€¢ stripe-secrets (Payments)            â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â”‚ â€¢ google-drive-secrets (Storage)       â”‚ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚
â”‚  â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                         â”‚                                           â”‚
                                         â–¼                                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                             PUBLIC INTERNET                                     â”‚ â”‚
â”‚                                                                                 â”‚ â”‚
â”‚                    http://[EXTERNAL-IP] â—„â”€â”€ Load Balancer                      â”‚ â”‚
â”‚                                                                                 â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚      Users      â”‚â”€â”€â”€â–ºâ”‚   FlashStudio   â”‚â”€â”€â”€â–ºâ”‚        Features            â”‚ â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚    Website      â”‚    â”‚                            â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Browse Videos â”‚    â”‚                 â”‚    â”‚ â€¢ Video Management         â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Make Orders   â”‚    â”‚ Load Balanced   â”‚    â”‚ â€¢ Payment Processing       â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Admin Access  â”‚    â”‚ Across 2 Pods   â”‚    â”‚ â€¢ File Storage             â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                                                                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                              CI/CD PIPELINE                                     â”‚ â”‚
â”‚                                                                                 â”‚ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  VS Code    â”‚â”€â”€â”€â–ºâ”‚   GitHub    â”‚â”€â”€â”€â–ºâ”‚GitHub Actionsâ”‚â”€â”€â”€â–ºâ”‚  Auto Deploy   â”‚ â”‚ â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚                 â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Edit Code â”‚    â”‚ â€¢ git push  â”‚    â”‚ â€¢ Build     â”‚    â”‚ â€¢ Update Pods   â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Test      â”‚    â”‚ â€¢ Triggers  â”‚    â”‚ â€¢ Test      â”‚    â”‚ â€¢ Zero Downtime â”‚ â”‚ â”‚
â”‚  â”‚ â€¢ Commit    â”‚    â”‚   CI/CD     â”‚    â”‚ â€¢ Deploy    â”‚    â”‚ â€¢ Health Checks â”‚ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
```

## ğŸ“Š Component Details

### **Azure Resources**
- **Resource Group**: `flashstudio-rg` - Contains all resources
- **AKS Cluster**: `flashstudio-aks` - Managed Kubernetes service
- **ACR**: `flashstudiomain.azurecr.io` - Container image registry
- **Load Balancer**: Public IP for external access

### **Kubernetes Components**
- **Namespace**: `flash` - Isolated environment for FlashStudio
- **Deployment**: `flashstudio-monolith` - Manages 2 pod replicas
- **Service**: `flashstudio-lb` - LoadBalancer exposing port 80â†’8000
- **Secrets**: Configuration for database, Stripe, Google Drive

### **Application Architecture**
- **Monolithic Design**: Single container with all features
- **High Availability**: 2 pods for redundancy
- **Auto-scaling**: Can scale up/down based on traffic
- **Health Checks**: Kubernetes monitors pod health

### **Deployment Flow**
1. **Code Change**: Developer pushes to GitHub
2. **CI/CD Trigger**: GitHub Actions workflow starts
3. **Build**: Docker image created with new code
4. **Push**: Image pushed to Azure Container Registry
5. **Deploy**: Kubernetes pulls new image and updates pods
6. **Rolling Update**: Zero-downtime deployment

### **Security Features**
- **Secrets Management**: Encrypted storage of sensitive data
- **Network Isolation**: Kubernetes networking
- **RBAC**: Role-based access control
- **Health Monitoring**: Continuous health checks

## ğŸ¯ **Benefits of This Architecture**

âœ… **Scalability**: Easy to add more pods or nodes
âœ… **Reliability**: Multiple pods provide redundancy  
âœ… **Automation**: CI/CD pipeline handles deployments
âœ… **Monitoring**: Built-in Azure monitoring and logging
âœ… **Cost-Effective**: Pay for actual resource usage
âœ… **Production-Ready**: Enterprise-grade infrastructure